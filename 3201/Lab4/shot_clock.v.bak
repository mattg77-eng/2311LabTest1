module shot_clock (
    input clk_1hz,        // from ClockDivider cout
    input reset_n,        // active low reset (DE10-Lite buttons are active low)
    input pause_n,        // active low pause button
    input mode,           // 0 = 24s, 1 = 30s
    output reg [6:0] ones,
    output reg [6:0] tens
);
    reg [5:0] time;
    reg paused;

    // Initialize
    initial begin
        time = 24;
        paused = 0;
    end

    // Countdown logic
    always @(posedge clk_1hz or negedge reset_n) begin
        if (!reset_n)
            time <= (mode) ? 30 : 24;     // reset
        else if (!paused) begin
            if (time > 0)
                time <= time - 1;
        end
    end

    // Pause toggle on button press
    always @(negedge pause_n)
        paused <= ~paused;

    // 7-segment encoding
    always @(*) begin
        case (time % 10)
            0: ones = 7'b1000000;
            1: ones = 7'b1111001;
            2: ones = 7'b0100100;
            3: ones = 7'b0110000;
            4: ones = 7'b0011001;
            5: ones = 7'b0010010;
            6: ones = 7'b0000010;
            7: ones = 7'b1111000;
            8: ones = 7'b0000000;
            9: ones = 7'b0010000;
            default: ones = 7'b1111111;
        endcase

        case (time / 10)
            0: tens = 7'b1000000;
            1: tens = 7'b1111001;
            2: tens = 7'b0100100;
            3: tens = 7'b0110000;
            default: tens = 7'b1111111;
        endcase
    end
endmodule
